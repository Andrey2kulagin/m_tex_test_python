# Как запускать
1. ''' bash
   cp .env_example .env
   docker-compose up --build
   '''
# Описание
Добрый день! Меня зовут Андрей Кулагин и это моё тестовое задание на стажировку в М.Тех<br>
Реализованные сервисы и используемые технологии:
1. Web-api для хранения логов - 2 эндпоинта(create, list) спецификацию можно посмотреть по 127.0.0.1:9000/docs. При реализации использовался фреймворк FastApi
2. Сервис генерации логов(клиент) - writer.py. Сервис генерирует строчки логов, отправляет их на api из пункта 1 и записывает в файл writer_logs.txt <br> Сервис работает в многопроцессорном режиме, кол-во процессов задается в файле окружения .env переменной PROCESS_COUNT. Время между запросами в одном процессе тоже задается переменной окружения SLEEP_TIME_MS.<br> В этом сервисе использовались aiohttp и multiprocessing.
3.  Сервис чтения и обработки логов - reader.py. Этот сервис каждые 10 секунд считывает последние 50 логов в базе и записывает в файл handler_results.txt процент логов с кодом 200.  В этом сервисе использовалась библиотека aiohttp
## Общее впечатление
ТЗ показалось не сильно сложным, особенно, если абстрагироваться от стека. Но я потратил на него все 3 дня, потому что до этого я писал только на django/drf и requests, FastApi и aiohttp мне пришлось изучать практически с нуля.<br> В первый день я изучал много теории по FastApi, вникал в то, как работает асинхронность, пытался сделать первое тестовое апи с помощью FastApi. Во второй день я уже сделал несколько рабочих api по мануалам и первую рабочую версию api для записи логов. В третий день я упаковал всё в docker, подключил postgres, потом написал reader и writer и соединил это в докере с апи.<br>
На этом проекте я показал, что я реально быстро обучаюсь и умею работать с новым материалом, что очень важно на стажировке. Помимо этого у меня развиты навыки поминания уже готовых проектов, чтения чужого кода и его дебага, что тоже может оказаться полезным на стажировке.
